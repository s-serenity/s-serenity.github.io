<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><title>Tag: python - s-serenity</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="s-serenity"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="s-serenity"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Recording and sharing my learning process."><meta property="og:type" content="website"><meta property="og:title" content="s-serenity"><meta property="og:url" content="http://yoursite.com/"><meta property="og:site_name" content="s-serenity"><meta property="og:description" content="Recording and sharing my learning process."><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:author" content="s-serenity"><meta property="article:tag" content="Algorithm study development"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://yoursite.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com"},"headline":"s-serenity","image":["http://yoursite.com/img/og_image.png"],"author":{"@type":"Person","name":"s-serenity"},"publisher":{"@type":"Organization","name":"s-serenity","logo":{"@type":"ImageObject"}},"description":"Recording and sharing my learning process."}</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body class="is-1-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">s-serenity</a></div><div class="navbar-menu"><div class="navbar-end"></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-12"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">python</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2023-06-28T15:50:29.000Z" title="2023-6-28 5:50:29 ├F10: PM┤">2023-06-28</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-06-29T14:20:32.475Z" title="2023-6-29 4:20:32 ├F10: PM┤">2023-06-29</time></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2023/06/28/python-4/">python(5) subprocess and logging</a></p><div class="content"><h2><span id="subprocess">subprocess</span></h2><p>You can use the Python subprocess module to create new processes, connect to their input and output, and retrieve their return codes and&#x2F;or output of the process. </p>
<h3><span id="subprocess-run">subprocess run</span></h3><p>The subprocess.run() method is a convenient way to run a subprocess and wait for it to complete. Once the subprocess is started, the run() method blocks until the subprocess completes and returns a CompletedProcess object, which contains the return code and output of the subprocess.The check argument is an optional argument of the subprocess.run() function in the Python subprocess module. It is a boolean value that controls whether the function should check the return code of the command being run.When check is set to True, the function will check the return code of the command and raise a CalledProcessError exception if the return code is non-zero. The exception will have the return code, stdout, stderr, and command as attributes.</p>
<h3><span id="subprocess-popen">subprocess Popen</span></h3><p><code>subprocess.Popen</code> is a lower-level interface to running subprocesses, while subprocess.run is a higher-level wrapper around Popen that is intended to be more convenient to use. Popen allows you to start a new process and interact with its standard input, output, and error streams. It returns a handle to the running process that can be used to wait for the process to complete, check its return code, or terminate it.<br>In general, you should use run if you just need to run a command and capture its output and Popen if you need more control over the process, such as interacting with its input and output streams.The Popen class has several methods that allow you to interact with the process, such as communicate(), poll(), wait(), terminate(), and kill().</p>
<h3><span id="subprocess-call">subprocess call</span></h3><p><code>subprocess.call()</code> is a function in the Python subprocess module that is used to run a command in a separate process and wait for it to complete. It returns the return code of the command, which is zero if the command was successful, and non-zero if it failed.subprocess.call() is useful when you want to run a command and check the return code, but do not need to capture the output.</p>
<h3><span id="subprocess-check_output">subprocess check_output</span></h3><p>check_output is a function in the subprocess module that is similar to run(), but it only returns the standard output of the command, and raises a CalledProcessError exception if the return code is non-zero.</p>
<h3><span id="subprocess-pipe">Subprocess Pipe</span></h3><p>A pipe is a unidirectional communication channel that connects one process’s standard output to another’s standard input. A pipe can connect the output of one command to the input of another, allowing the output of the first command to be used as input to the second command.Pipes can be created using the subprocess module with the Popen class by specifying the stdout or stdin argument as subprocess.PIPE.</p>
<h2><span id="logging">logging</span></h2><p>Logging provides a set of convenience functions for simple logging usage. These are debug(), info(), warning(), error() and critical().<br>The default level is WARNING, which means that only events of this level and above will be tracked, unless the logging package is configured to do otherwise.</p>
<h3><span id="logging-config">logging config</span></h3><p>logging.basicConfig(format&#x3D;’%(levelname)s %(asctime)s %(process)d %(message)s’, level&#x3D;logging.DEBUG)</p>
<h2><span id="reference">reference</span></h2><p><a target="_blank" rel="noopener" href="https://www.datacamp.com/tutorial/python-subprocess">https://www.datacamp.com/tutorial/python-subprocess</a><br><a target="_blank" rel="noopener" href="https://docs.python.org/3/howto/logging.html">https://docs.python.org/3/howto/logging.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-09-22T19:19:09.000Z" title="2021-9-22 9:19:09 ├F10: PM┤">2021-09-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-06-28T15:45:36.702Z" title="2023-6-28 5:45:36 ├F10: PM┤">2023-06-28</time></span><span class="level-item"><a class="link-muted" href="/categories/programming-language/">programming language</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/09/22/python-3/">第十八篇 python(4)-多进程</a></p><div class="content"><h3><span id="协程-线程与进程">协程、线程与进程</span></h3><h4><span id="协程">协程</span></h4></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-31T19:38:04.000Z" title="2021-8-31 9:38:04 ├F10: PM┤">2021-08-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2023-06-28T15:45:15.112Z" title="2023-6-28 5:45:15 ├F10: PM┤">2023-06-28</time></span><span class="level-item"><a class="link-muted" href="/categories/programming-language/">programming language</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/31/python-2/">第十六篇 python(3)-matplotlib绘图</a></p><div class="content"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-08-08T14:56:36.000Z" title="2021-8-8 4:56:36 ├F10: PM┤">2021-08-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-08-29T09:18:20.832Z" title="2021-8-29 11:18:20 ├F10: AM┤">2021-08-29</time></span><span class="level-item"><a class="link-muted" href="/categories/web-development/">web development</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/08/08/python-1/">第十一篇 python(2)-flask+gunicorn+supervisor的python服务部署</a></p><div class="content"></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-07-30T19:39:18.000Z" title="2021-7-30 9:39:18 ├F10: PM┤">2021-07-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-09-25T05:50:27.700Z" title="2021-9-25 7:50:27 ├F10: AM┤">2021-09-25</time></span><span class="level-item"><a class="link-muted" href="/categories/programming-language/">programming language</a></span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/07/30/python/">第九篇 python(1)-语法进阶</a></p><div class="content"><h3><span id="yield">yield</span></h3><p>yield可以暂停一个函数的运行，返回值给函数调用者，并使得函数可以从上次离开的地方接着运行。通常我们可以借助yield来实现一个生成器。</p>
<h3><span id="生成器">生成器</span></h3><p>生成器是一个可以产生一个序列的函数，调用生成器函数会产生一个生成器对象，并不会开始启动函数，只有当执行<code>__next__()</code>时函数才会执行。生成器时一个一次性操作，和我们常见的列表、字典等可以迭代的对象不同，列表等是可以无限次迭代的。</p>
<h3><span id="装饰器">装饰器</span></h3><p>python中函数是一等对象，所以函数可以像普通变量一样当作参数传给另一个函数的，装饰器可以在不改变另一个函数的情况下用来封装另一个函数以拓展这个被封装函数的功能，有了装饰器，我们就可以抽离出大量与函数功能本身无关的雷同代码到装饰器中并继续重用。</p>
<p>装饰器不仅可以是函数，也可以是类。使用类装饰器主要依靠类的<code>__call__</code>方法。我们可以直接定义一个装饰器函数或者装饰器类，但是有个缺点是原函数的元信息不见了，比如函数的<code>docstring</code>、<code>__name__</code>都会发生改变，此时我们可以使用<strong>functools.wraps</strong>，<code>wraps</code>本身也是一个装饰器，它能把原函数的元信息拷贝到装饰器里面的函数中。</p>
</div></article></div></div><!--!--><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">s-serenity</a><p class="is-size-7"><span>&copy; 2023 s-serenity</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><!--!--><script src="/js/main.js" defer></script><!--!--></body></html>